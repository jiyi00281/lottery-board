
<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>波场彩票 - 对码分析预测</title>
  <style>
    body { font-family: Arial; background: #f7f7f7; margin: 20px; }
    .container { background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    h2 { color: #333; }
    .highlight { font-weight: bold; color: red; }
  </style>
</head>
<body>
<div class="container">
  <h2>波场彩票 - 对码分析预测</h2>
  <p><strong>对码组：</strong></p>
  <ul>
    <li>A组（0,5）</li>
    <li>B组（1,6）</li>
    <li>C组（2,7）</li>
    <li>D组（3,8）</li>
    <li>E组（4,9）</li>
  </ul>
  <div id="result">数据加载中...</div>
</div>

<script>
const API_URL = "https://api.duoqu.online/data?code=Tron-Fast&limit=20&key=rkjpugmlzj";
const groupMap = {
  'A': [0, 5],
  'B': [1, 6],
  'C': [2, 7],
  'D': [3, 8],
  'E': [4, 9]
};

function getGroup(num) {
  for (let key in groupMap) {
    if (groupMap[key].includes(Number(num))) return key;
  }
  return null;
}

async function fetchAndAnalyze() {
  const res = await fetch(API_URL);
  const data = await res.json();
  const draws = data.data.slice(0, 10);

  const groupHistory = { A: [], B: [], C: [], D: [], E: [] };
  const countTrend = { A: [], B: [], C: [], D: [], E: [] };

  draws.forEach(draw => {
    const nums = draw.openNumber.split(",").map(n => parseInt(n.trim()));
    const groupCounts = { A: 0, B: 0, C: 0, D: 0, E: 0 };
    nums.forEach(num => {
      const g = getGroup(num);
      if (g) groupCounts[g]++;
    });
    for (let g in groupCounts) {
      countTrend[g].push(groupCounts[g]);
    }
  });

  const latest = countTrend;
  const trendText = g => {
    const trend = latest[g].slice(-5);
    const diff = trend[trend.length - 1] - trend[0];
    if (diff > 0) return "升温趋势";
    if (diff < 0) return "降温趋势";
    return "平稳";
  };

  let resultHTML = "<h3>最近10期对码趋势统计：</h3><ul>";
  for (let g in countTrend) {
    resultHTML += `<li>${g}组（${groupMap[g].join(",")}）：次数 [${countTrend[g].join(", ")}] → <span class="highlight">${trendText(g)}</span></li>`;
  }

  const hotGroup = Object.keys(countTrend).sort((a,b) => {
    const sumA = countTrend[a].slice(-3).reduce((x,y)=>x+y, 0);
    const sumB = countTrend[b].slice(-3).reduce((x,y)=>x+y, 0);
    return sumB - sumA;
  })[0];

  const recommended = groupMap[hotGroup][Math.floor(Math.random() * 2)];

  resultHTML += "</ul>";
  resultHTML += `<p><strong>当前推荐组：</strong> <span class="highlight">${hotGroup}组（${groupMap[hotGroup].join(", ")}） → 推荐数字：<strong>${recommended}</strong></span></p>`;

  document.getElementById("result").innerHTML = resultHTML;
}

fetchAndAnalyze();
</script>
</body>
</html>
